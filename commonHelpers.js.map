{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst galleryBox = document.querySelector('.gallery-box');\nconst loader = document.querySelector('.loader');\nconst input = document.querySelector('input');\n\nloader.style.display = 'none';\n\nconst searchParamsDefaults = {\n  key: '42449001-9f730a509ed4c563c5fe29690',\n  q: 'searchPicture',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captionDelay: 250,\n  captionsData: 'alt',\n  close: true,\n  enableKeyboard: true,\n  docClose: true,\n});\n\nfunction searchImg(params) {\n  return fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(({ hits }) => {\n      if (hits.length > 0) {\n        const renderImg = hits.reduce((html, hit) => {\n          return (\n            html +\n            `<li class=\"gallery-item\">\n        <a href=${hit.largeImageURL}> \n          <img class=\"gallery-img\" src =${hit.webformatURL} alt=${hit.tags}/>\n        </a>\n        <div class=\"gallery-text-box\">\n          <p>Likes: <span class=\"text-value\">${hit.likes}</span></p>\n          <p>views: <span class=\"text-value\">${hit.views}</span></p>\n          <p>comments: <span class=\"text-value\">${hit.comments}</span></p>\n          <p>downloads: <span class=\"text-value\">${hit.downloads}</span></p>\n      </div>\n      </li>`\n          );\n        }, '');\n        gallery.innerHTML = renderImg;\n        lightbox.refresh();\n      } else {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    })\n    .catch(error => {\n      console.log(error.message);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n  searchParamsDefaults.q = event.target.elements.search.value.trim();\n  const searchParams = new URLSearchParams(searchParamsDefaults);\n  searchImg(searchParams);\n  event.currentTarget.reset();\n});\n"],"names":["form","gallery","loader","searchParamsDefaults","lightbox","SimpleLightbox","searchImg","params","response","hits","renderImg","html","hit","iziToast","error","event","searchParams"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC9B,SAAS,cAAc,cAAc,EACxD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACjC,SAAS,cAAc,OAAO,EAE5CA,EAAO,MAAM,QAAU,OAEvB,MAAMC,EAAuB,CAC3B,IAAK,qCACL,EAAG,gBACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,aAAc,IACd,aAAc,MACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACZ,CAAC,EAED,SAASC,EAAUC,EAAQ,CACzB,OAAO,MAAM,4BAA4BA,CAAM,EAAE,EAC9C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,GAAIA,EAAK,OAAS,EAAG,CACnB,MAAMC,EAAYD,EAAK,OAAO,CAACE,EAAMC,IAEjCD,EACA;AAAA,kBACMC,EAAI,aAAa;AAAA,0CACOA,EAAI,YAAY,QAAQA,EAAI,IAAI;AAAA;AAAA;AAAA,+CAG3BA,EAAI,KAAK;AAAA,+CACTA,EAAI,KAAK;AAAA,kDACNA,EAAI,QAAQ;AAAA,mDACXA,EAAI,SAAS;AAAA;AAAA,aAIrD,EAAE,EACLX,EAAQ,UAAYS,EACpBN,EAAS,QAAO,CACxB,MACQS,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC/B,CAAK,EACA,QAAQ,IAAM,CACbZ,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAEAF,EAAK,iBAAiB,SAAUe,GAAS,CACvCA,EAAM,eAAc,EACpBd,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACvBC,EAAqB,EAAIY,EAAM,OAAO,SAAS,OAAO,MAAM,OAC5D,MAAMC,EAAe,IAAI,gBAAgBb,CAAoB,EAC7DG,EAAUU,CAAY,EACtBD,EAAM,cAAc,OACtB,CAAC"}